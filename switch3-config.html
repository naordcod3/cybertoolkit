<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Layer 3 Switch Configuration</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
</head>
<body class="bg-black text-green-400 font-mono relative">
    <canvas id="matrixCanvas" class="absolute top-0 left-0 w-full h-full opacity-20"></canvas>

  <!--navigation bar (from nav.html)-->
  <div id="nav-placeholder"></div>

  <script>
      // Load navigation bar from nav.html
      fetch("nav.html")
          .then(response => response.text())
          .then(data => {
              document.getElementById("nav-placeholder").innerHTML = data;
          });
  </script>



    <section class="text-center mt-10 relative z-10">
        <h1 class="text-3xl font-bold text-green-300">Layer 3 Switch Configuration Generator</h1>
        <p class="text-green-200 mt-2">Dynamically generate Cisco CLI commands for **Layer 3 Switch Interfaces**.</p>

        <!-- Interface Configuration -->
        <div class="mt-6">
            <h2 class="text-xl text-green-300">Switch Interfaces</h2>
            <div id="l3-switch-interfaces"></div>
            <button id="addL3SwitchInterface" class="mt-4 bg-green-600 hover:bg-green-400 text-black font-bold py-2 px-4 rounded">
                + Add Interface
            </button>
        </div>

        <!-- Generate CLI Button -->
        <button id="generateL3SwitchCLI" class="mt-6 bg-green-600 hover:bg-green-400 text-black font-bold py-2 px-4 rounded">
            Generate Layer 3 Switch CLI
        </button>

        <!-- CLI Output -->
        <div class="mt-6 bg-black p-4 border border-green-400 text-left text-green-200 rounded">
            <h3 class="text-green-300 font-bold">Generated Layer 3 Switch Configuration</h3>
            <pre id="l3SwitchOutput" class="language-bash"></pre>
            <button id="copyL3SwitchCLI" class="mt-4 bg-green-700 hover:bg-green-500 text-black font-bold py-1 px-3 rounded">
                ðŸ“‹ Copy to Clipboard
            </button>
        </div>
    </section>

    <script>
        document.getElementById("addL3SwitchInterface").addEventListener("click", function () {
            let container = document.getElementById("l3-switch-interfaces");
            let newEntry = document.createElement("div");
            newEntry.className = "l3-switch-interface mt-2 flex space-x-2";
            newEntry.innerHTML = `
                <select class="l3-switch-port bg-black border border-green-400 text-green-300 p-2">
                    <option value="FastEthernet 0/1">FastEthernet 0/1</option>
                    <option value="FastEthernet 0/2">FastEthernet 0/2</option>
                    <option value="FastEthernet 0/3">FastEthernet 0/3</option>
                    <option value="FastEthernet 0/4">FastEthernet 0/4</option>
                    <option value="FastEthernet 0/5">FastEthernet 0/5</option>
                    <option value="FastEthernet 0/6">FastEthernet 0/6</option>
                </select>
                <select class="l3-switch-mode bg-black border border-green-400 text-green-300 p-2">
                    <option value="trunk">Trunk</option>
                    <option value="access">Access</option>
                    <option value="routed">Routed (No Switchport)</option>
                </select>
                <input type="text" class="l3-switch-vlan bg-black border border-green-400 text-green-300 p-2 hidden" placeholder="VLAN (for Access Mode)">
                <input type="text" class="l3-switch-ip hidden bg-black border border-green-400 text-green-300 p-2" placeholder="IP Address (for Routed)">
                <input type="text" class="l3-switch-subnet hidden bg-black border border-green-400 text-green-300 p-2" placeholder="Subnet Mask">
            `;
            container.appendChild(newEntry);

            newEntry.querySelector(".l3-switch-mode").addEventListener("change", function () {
                let vlanInput = newEntry.querySelector(".l3-switch-vlan");
                let ipInput = newEntry.querySelector(".l3-switch-ip");
                let subnetInput = newEntry.querySelector(".l3-switch-subnet");

                vlanInput.classList.toggle("hidden", this.value !== "access");
                ipInput.classList.toggle("hidden", this.value !== "routed");
                subnetInput.classList.toggle("hidden", this.value !== "routed");
            });
        });

        document.getElementById("generateL3SwitchCLI").addEventListener("click", function () {
            let output = "enable\nconfigure terminal\n";

            document.querySelectorAll(".l3-switch-interface").forEach(entry => {
                let port = entry.querySelector(".l3-switch-port").value.trim();
                let mode = entry.querySelector(".l3-switch-mode").value.trim();
                let vlan = entry.querySelector(".l3-switch-vlan").value.trim();
                let ip = entry.querySelector(".l3-switch-ip").value.trim();
                let subnet = entry.querySelector(".l3-switch-subnet").value.trim();

                output += `interface ${port}\n`;
                if (mode === "routed") {
                    output += ` no switchport\n ip address ${ip} ${subnet}\n`;
                } else {
                    output += ` switchport mode ${mode}\n`;
                    if (mode === "access" && vlan) {
                        output += ` switchport access vlan ${vlan}\n`;
                    }
                }
                output += ` no shutdown\n exit\n\n`;
            });

            document.getElementById("l3SwitchOutput").textContent = output;
            Prism.highlightAll();
        });
    </script>
</body>
</html>
